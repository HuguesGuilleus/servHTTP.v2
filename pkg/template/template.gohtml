<!DOCTYPE html><html lang=en><head><meta charset="utf-8"><meta name=viewport content="width=device-width,initial-scale=1"><style>body{margin:0;padding:1em;font-family:monospace;font-size:xx-large;background:#eae5dc;color:black}#player:not([hidden]){display:flex;margin:-1em -1em 1em;max-width:100vw;height:100vh;background:#1a1a1a}audio,img,video{max-width:100%;max-height:100%;margin:auto}audio{width:80%}h1{margin:0 0 0.5ex}.u,h1{display:table;padding:0.2em 0.5em;background:white}a{color:#0065c8;text-decoration:none}a:hover{color:#00008b;text-decoration:underline}ul{list-style:none;padding:0}time,.size{color: #0009}time::after{content:"]"}time::before{content:"["}.size::after{content:")"}.size::before{content:"("}button[data]{font:inherit;border:none;background:#d0cbc2;padding:0 1ex}button[data]:hover{background:dodgerblue}main{max-width:70ex;margin-top:3ex;}</style><title>{{with .ErrCode}}Error: {{.}}{{else}}Index{{end}}</title></head><body><div id=player hidden></div><h1>{{with .ErrCode}}Error: {{.}}{{else}}Index{{end}}</h1><div class=u>{{.URL.Host}} {{range .URL.Parents}}<a href="{{.Absolute}}">{{.Name}}/</a>{{end}}{{.URL.File}}</div>

{{- if .Files -}}<ul>
	{{- range .Files -}}
	<li><time datetime="{{.ModTime.Format `2006-01-02T15:04:05Z07:00`}}">{{.ModTime}}</time> {{if .IsDir -}}
			<a href="{{.Name}}/">{{.Name}}/</a>
		{{- else -}}
			<a class=nf href="{{.Name}}">{{.Name}}</a> <span class=size title="{{.Size}} o">{{.SizeHum}}</span> {{ with .Media -}}
				<button type=button data="{{.JSON}}">Show</button>
			{{- end -}}
		{{- end -}}
	{{- end -}}
</ul>
{{- end -}}

<script>document.querySelectorAll('time').forEach(function(t){t.innerText=new Date(t.dateTime).toLocaleString()});

{{- with .Readme -}}
	fetch({{.}}).then(r=>r.text()).then(t=>{const m=document.createElement('main');m.innerText=t;document.body.appendChild(m);});
{{- end -}}

{{- if .HasMedia}}/*PLAYER*/{{end -}}

</script>

{{- with .ErrStatus}}<main>{{.}}</main>{{end -}}
